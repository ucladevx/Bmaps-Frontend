<!-- SCRIPTS -->
<script src='https://api.mapbox.com/mapbox-gl-js/v0.40.0/mapbox-gl.js'></script>
<script src="../../js/handlebars.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
<script src="../../js/main.js"></script>
<script src="../../js/utils.js"></script>
<script src="../../js/filter.js"></script>

<!-- <script src="../../js/jquery.quickfit.js" type="text/javascript" /> -->
<!-- CATEGORY NAMES HANDLEBARS SCRIPT-->
<script id="category-dropdown-template" type="text/x-handlebars-template">
		<div class="dropdown sidebar-header">
			<p data-toggle="dropdown" id="categ-dropdown-text">
					all categories &nbsp;
			<span class="caret"></span></p>
			<ul class="dropdown-menu">
			\{{#each categDrop}}
				\{{#if this.numEvents}}
					<li><a class="categLink"><span class="categName">\{{this.category}}</span><span class="badge">\{{this.numEvents}}</span></a></li>
				\{{else}}
					<li><a class="categLink" style="color:#bebebe;"><span class="categName">\{{this.category}}</span></a></li>
				\{{/if}}
			\{{/each}}
			</ul>
		</div>
</script>
<script src="../../js/map.js"></script>
<script src="../../js/event.js"></script>
<!--  SIDEBAR EVENTS HANDLEBARS SCRIPT-->
<script id="sidebar-event-template" type="text/x-handlebars-template">
  <div class="sidebar">
  	<div class="hide event-container" id="one-event">
  		<div class="event-header">
			<i class="glyphicon glyphicon-chevron-left" id="left-chevron" onclick="hideEvent();"></i>
		</div>
  		<div class="event-body">
			<img class="event-image" src="" id="modal-image">
			<div class="event-title" id="event-title"></div>
			<div class="event-info" id="event-info"></div>
			<div class="event-description" id="event-description"></div>
		</div>
	</div>
      <!-- `events` is passed from main.js's API Call -->
      <!-- We iterate through each of these objects and append them using the template -->
      <div class="event-list">
      \{{#if events}}
        \{{#each events}}
        <a class="event event-trigger-modal sidebar-event" onclick="showEvent(\{{{json this}}});">
            <div class="sidebar-event-img-container col-sm-7 col-md-7 col-lg-7">
                <img src="\{{this.properties.cover_picture}}" class="sidebar-event-img"></img>
            </div>
            <div class="sidebar-event-details col-sm-5 col-md-5 col-lg-5">
                <p class="sidebar-event-name">\{{this.properties.event_name}}</p>
                <p class="sidebar-event-date">\{{{this.properties.start_time}}}
                &middot;
                  \{{#if this.properties.venue.name}}
                      \{{this.properties.venue.name}}
                  \{{else}}
                    \{{this.properties.venue.location.street}}
                  \{{/if}}
                </p>
                <p class="sidebar-event-category">\{{this.properties.category}}</p>
            </div>
        </a>
        <div class="seperator"></div>
        \{{/each}}
      \{{else}}
        <h3 class="no-events-text">No Events</h3>
      \{{/if}}
      </div>
  </div>
</script>

<footer>
</footer>

</body>
</html>
