<div id="filter-div" class="btn-group">
  <!-- dropdown button -->
  <button *ngIf="showToggleButton" id="toggle-btn" type="button" class="btn dropdown-toggle" (click)="toggleDropdown()">
    Filters <span class="caret"></span>
  </button>
  <!-- filters menu -->
  <div *ngIf="showDropdown || !showToggleButton" class="dropdown-content" [ngClass]="{'show-toggle-btn': showToggleButton}">
    <!-- filters subheader -->
    <div *ngIf="tagHash" class="filters-header">Filters
      <a class="clear-all-btn" (click)="clearFilters()">CLEAR ALL</a>
    </div>
    <div class="filters-content">
      <!-- location filter -->
      <div class="section-container">
        <div class="section-header">Location</div>
        <input #locationBar class="form-control" type="text" id="location" placeholder="Enter a Location"
          value={{getLoc()}} autocomplete="off" (input)="setLocationFilter(locationBar.value)">
        <input class="clear-button" type="button" value="X" (click)="clearLoc()">
      </div>
      <!-- date filter -->
      <div class="section-container">
        <div class="section-header">Date</div>
        <div class="section-input">
          <input #startDate type="date" class="form-control short-input" id="start-date"
            value="{{getStartDate()}}" (change)="setDateFilter(startDate.value, endDate.value)">
          <div class="to">to</div>
          <input #endDate type="date" class="form-control short-input" id="end-date"
            value="{{getEndDate()}}" (change)="setDateFilter(startDate.value, endDate.value)">
        </div>
      </div>
      <!-- time filter -->
      <div class="section-container">
        <div class="section-header">Time</div>
        <div class="section-input">
          <input #startTime type="time" class="form-control short-input" id="start-time"
            value="{{getStartTime()}}" (change)="setTimeFilter(startTime.value, endTime.value)">
          <div class="to">to</div>
          <input #endTime type="time" class="form-control short-input" id="end-time"
            value="{{getEndTime()}}" (change)="setTimeFilter(startTime.value, endTime.value)">
        </div>
      </div>
      <!-- filter tags -->
      <div class="section-container">
        <div class="section-header">Tags</div>
        <div *ngIf="tagHash" class="filters-wrapper">
          <div class="btn-group" id="loc-group">
            <div class="btn btn-outline-secondary filter-btn" id="mobile-exclude"
                  [ngClass]="{'active': tagHash['on-campus']}"
                  (click)="tagClicked('on-campus')">on-campus</div>
            <div class="btn btn-outline-secondary filter-btn" id="mobile-exclude"
                  [ngClass]="{'active': tagHash['off-campus']}"
                  (click)="tagClicked('off-campus')">off-campus</div>
            <div class="btn btn-outline-secondary filter-btn" id="mobile-exclude"
                  [ngClass]="{'active': tagHash['nearby']}"
                  (click)="tagClicked('nearby')">nearby</div>
          </div>
          <div class="btn-group" id="loc-group-mobile">
            <div class="btn btn-outline-secondary filter-btn" id="mobile-only"
                  [ngClass]="{'active': tagHash['on-campus']}"
                  (click)="tagClicked('on-campus')"><p>on<br>campus</p></div>
            <div class="btn btn-outline-secondary filter-btn" id="mobile-only"
                  [ngClass]="{'active': tagHash['off-campus']}"
                  (click)="tagClicked('off-campus')"><p>off<br>campus</p></div>
            <div class="btn btn-outline-secondary filter-btn" id="mobile-only"
                  [ngClass]="{'active': tagHash['nearby']}"
                  (click)="tagClicked('nearby')"><p>nearby</p></div>
          </div>
        </div>
      </div>
    </div>
    <!-- category subheader -->
    <div *ngIf="categHash" class="categ-section-header">
      Categories
      <a class="clear-all-btn" (click)="resetCategories()">CLEAR ALL</a>
    </div>
    <!-- category filters -->
    <div *ngIf="categHash" class="categories-wrapper">
      <ul class="categories-list" role="menu">
        <li *ngFor="let categKey of objectKeys(categHash)">
          <!-- *ngIf="categHash[categKey].numEventsMonth != undefined && displayCategory(categKey)" -->
          <a [ngClass]="{'dropdown-item': true, 'selected': categHash[categKey].selected}"
             (click)="categoryClicked(categKey)">
          <div class="checkbox-container">
            <div *ngIf="categHash[categKey].selected; else unchecked">
              <img class="checkbox" width="16px" src="assets/images/check.svg"/>
            </div>
          </div>
          <ng-template #unchecked><div>
            <img class="checkbox" width="16px" src="assets/images/box.svg" />
          </div></ng-template>
          {{categHash[categKey].formattedCategory}}
          </a>
        </li>
      </ul>
    </div>
  </div>
</div>
